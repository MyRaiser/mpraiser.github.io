# Linux基本操作

[TOC]

## 用户权限
### 文件类型与权限
执行

`ls -al`

可以看到当前目录下所有文件信息，其中第一栏为文件类型与权限信息，例如：

0|1|2|3|4|5|6|7|8|9
:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:|:-:
-|r|w|-|r|-|-|r|-|-

第0位：表示文件类型，具体有：

值 | 类型
:-: | :-:
d | 目录
- | 文件
l | 链接文件
b | 可存储周边设备
c | 串行端口设备，如键鼠

第1-3、4-6、7-9位：三个为一组，第一组表示文件拥有者的权限，第二组表示文件所属用户组的权限，第三组表示其他人的权限，三组均符合[rwx]格式，具体为：

第一位为`r`或者`-`，表示是否具有读权限；

第二位为`w`或者`-`，表示是否具有写权限；

第三位为`x`或者`-`，表示是否具有执行权限。

### 修改文件权限

## vim
### vim的模式
- 一般命令模式
- 编辑模式
- 命令行模式

### vim的基本使用
1. 假设目标文件为`abc.txt`，在shell中使用

    ```shell
    vim abc.txt
    ```

2. 打开文件，进入一般命令模式。方向键可以移动光标位置，输入[字符]进入编辑模式。通常使用的有：

    字符 | 作用
    :-: | :-:
    i | 在光标位置开始输入
    I | 在光标所在行的第一个非空格字符开始输入
    a | 在光标的下一个开始输入
    A | 在光标所在行的最后一个字符开始输入
    o | 在光标所在行下插入新行开始输入
    O | 在光标所在行上插入新行开始输入
    r | 替换光标所在字符一次
    R | 一直替换光标所在字符

3. 使用Esc退出编辑模式，回到一般编辑模式。
4. 输入命令并回车，通常可以有：

    命令 | 作用
    :-: | :-:
    :w | 保存
    :q | 退出
    :wq | 保存并退出
    :wq! | 强制保存并退出

### vim中快速移动光标
在一般命令模式中可以快速移动光标，通常有：

字符 | 作用
:-: | :-:
0或Home | 移动到当前行第一个字符前
$或End | 移动到当前行最后一个字符后
G | 移动到最后一行
gg | 移动到第一行

> 如果不能强制保存/退出，通常`sudo`一下就可以了。

### vim的查找与替换

## 正则表达式
正则表达式（Regular Expression）

### 元字符
RE字符 | 含义
:-: | :-:
^ | 行首
$ | 行尾
. | 一个任意字符
() | 标记目标子串的开始和结束位置（供获取后使用）

### 限定符
RE字符 | 含义
:-: | :-:
* | 重复零次或任意多次前一个RE字符
+ | 重复一次或任意多次前一个RE字符
? | 重复零次或一次前一个RE字符
{n} | 重复n次
{n,} | 重复n次或更多次
{n,m} | 重复n到m次

### 集合
RE字符 | 含义
:-: | :-:
[a,b,c] | RE字符的集合
[A-Z] | 按顺序包含的RE字符的集合
[^a] | 取反，不包含集合中字符的集合

### 常用trick